model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=5,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=5,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=6,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=6,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=7,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=7,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=20,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=50,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=2,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=1,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=2,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=2,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=2,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=3,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a, test=a[id,], cl=as.factor(all$Binary), k=1,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[id]), k=1,use.all = T)
tab <- table(model1,as.factor(val$Binary))
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=1,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=2,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=3,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=4,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=6,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=5,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=7,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=8,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=9,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=10,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=20,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(a[-id,], test=a[id,], cl=as.factor(all$Binary[-id]), k=30,use.all = T)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
fitControl <- trainControl(method = "repeatedcv",
number = 10,
repeats = 10,
## Estimate class probabilities
classProbs = TRUE,
## Evaluate performance using
## the following function
summaryFunction = twoClassSummary)
library(caret)
fitControl <- trainControl(method = "repeatedcv",
number = 10,
repeats = 10,
## Estimate class probabilities
classProbs = TRUE,
## Evaluate performance using
## the following function
summaryFunction = twoClassSummary)
View(train_embs)
train_embs$labels <- as.character(train$Binary)
alexo_tree = train(labels ~ .,
data=train_embs,
method="rf",
trControl = fitControl,metric = "ROC",tuneLength = 10)
train_embs$labels
train_embs <- train_embs %>% mutate(labels=if_else(labels == "1","positive","negative"))
alexo_tree = train(labels ~ .,
data=train_embs,
method="rf",
trControl = fitControl,metric = "ROC",tuneLength = 10)
alexo_tree
extractPrediction(alexo_tree$finalModel,
testX = embs, testY = NULL,
unkX = NULL,
unkOnly = !is.null(unkX) & is.null(testX),
verbose = FALSE)
extractPrediction(alexo_tree$finalModel,
testX = embs, testY = NULL,
unkX = NULL,
verbose = FALSE)
extractPrediction(alexo_tree,
testX = embs, testY = NULL,
unkX = NULL,
verbose = FALSE)
predict(alexo_tree,embs)
a <- predict(alexo_tree,embs)
a <- as.data.frame(a)
a$true <- val$Binary
View(a)
a <- a %>% mutate(true = if_else(true == 1,"positive","negative"))
View(a)
length(which(a$a==a$true))/nrow(a)
library(Rtsne)
library(tidyverse)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings_0.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
tsne_emb <- Rtsne(scale(embs), dims = 2, perplexity=5, verbose=TRUE, max_iter = 1000,initial_dims = 20,check_duplicates = F)
df_emb_test <- data.frame(V1 = tsne_emb$Y[,1], V2 =tsne_emb$Y[,2], label = as.factor(val$Binary))
gtsne_test <- ggplot(df_emb_test, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
gtsne_test
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings_train_0.csv")
train_embs <- train_embs[,-1]
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=100, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
library(Rtsne)
library(tidyverse)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
tsne_emb <- Rtsne(scale(embs), dims = 2, perplexity=5, verbose=TRUE, max_iter = 1000,initial_dims = 20,check_duplicates = F)
df_emb_test <- data.frame(V1 = tsne_emb$Y[,1], V2 =tsne_emb$Y[,2], label = as.factor(val$Binary))
gtsne_test <- ggplot(df_emb_test, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne_test
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
require("class")
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=2)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=3)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=4)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=6)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=10)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=15)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=20)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=25)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=30)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=35)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=40)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=50)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=100)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=150)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=200)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=300)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=300)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=300)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=2)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=3)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=4)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=6)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=7)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=20)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
require("class")
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=2)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=3)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=4)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=6)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
require("class")
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=6)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=3)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=2)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=4)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=6)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_val.csv")
embs <- embs[,-1]
val <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/val_0.csv")
train <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/train_0.csv")
train_embs <- read.csv("C:/Users/user/Documents/kinase_binding/learning/data/p38/split_aveb/fold_0/embeddings/embeddings_0/embeddings_train.csv")
train_embs <- train_embs[,-1]
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
require("class")
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=6)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=5)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=20)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=50)
tab <- table(model1,as.factor(val$Binary))
accuracy <- function(x){sum(diag(x)/(sum(rowSums(x)))) * 100}
accuracy(tab)
tsne_emb_train <- Rtsne(scale(train_embs), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_emb <- data.frame(V1 = tsne_emb_train$Y[,1], V2 =tsne_emb_train$Y[,2], label = as.factor(train$Binary))
gtsne <- ggplot(df_emb, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne
paste0("test",val$Binary)
tsne_all <- Rtsne(scale(rbind(train_embs,embs)), dims = 2, perplexity=20, verbose=TRUE, max_iter = 1000,initial_dims = 50,check_duplicates = F)
df_all <- data.frame(V1 = tsne_all$Y[,1], V2 =tsne_all$Y[,2], label = as.factor(c(train$Binary,paste0("test",val$Binary))))
gtsne_all <- ggplot(df_all, aes(V1, V2))+
geom_point(aes(color = label),show.legend = T) + scale_color_discrete()
gtsne_all
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=50)
tab <- table(model1,as.factor(val$Binary))
tab
accuracy(tab)
model1<- knn(train=(train_embs), test=(embs), cl=as.factor(train$Binary), k=1)
tab <- table(model1,as.factor(val$Binary))
tab
